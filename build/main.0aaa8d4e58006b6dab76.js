(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(t,n,e){},QfWi:function(t,n,e){"use strict";e.r(n);e("D/wG"),e("L1EO");var i=e("dIfx");e("mNaS"),e("JBxO"),e("FdtR");function o(t){return fetch("https://api.apixu.com/v1/current.json?key=1890115529e84a47b6784833190608&q="+t)}new(function(){function t(){this.lat=null,this.long=null,this.refs={inputCity:document.querySelector('input[name="city"]'),buttonSubmit:document.querySelector('button[type="submit"]'),section:document.querySelector("#weather"),icon:document.querySelector(".icon"),location:document.querySelector('span[data-field="location"]'),temp:document.querySelector('span[data-field="temp"]'),humidity:document.querySelector('span[data-field="humidity"]'),wind:document.querySelector('span[data-field="wind"]'),conditions:document.querySelector('span[data-field="conditions"]')},this.currentLocation(),this.searchByCity()}var n=t.prototype;return n.currentLocation=function(){var t,n=this;(t={maximumAge:18e5},new Promise(function(n,e){navigator.geolocation.getCurrentPosition(n,e,t)})).then(function(t){n.lat=t.coords.latitude,n.long=t.coords.longitude,n.currentWeather()}).catch(function(){return i.a.alert("Нет прав доступа к геопозиции, используйте поиск по имени города.")})},n.currentWeather=function(){var t=this;o(this.lat+","+this.long).then(function(t){return t.json()}).then(function(n){return t.render(n)})},n.searchByCity=function(){var t=this;this.refs.buttonSubmit.addEventListener("click",function(n){n.preventDefault(),o(t.refs.inputCity.value).then(function(t){return t.json()}).then(function(n){return t.render(n)})})},n.render=function(t){this.refs.location.textContent=t.location.name,this.refs.temp.textContent=t.current.temp_c+"°C",this.refs.humidity.textContent=t.current.humidity+"%",this.refs.wind.textContent=t.current.wind_kph+" kph",this.refs.conditions.textContent=t.current.condition.text,this.refs.icon.src="https:"+t.current.condition.icon,this.refs.section.classList.remove("is-hidden")},t}())}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.0aaa8d4e58006b6dab76.js.map